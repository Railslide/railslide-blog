<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Railslide, Code, experiments, and thoughts">

        <link rel="alternate"  href="https://railslide.io/feeds/all.atom.xml" type="application/atom+xml" title="Railslide Full Atom Feed"/>

        <title>TIL: =+ doesn't throw an error // Railslide // Code, experiments, and thoughts</title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://railslide.io/theme/css/puremorning.css">
    <link rel="stylesheet" href="https://railslide.io/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <h1 class="brand-main"><a href="/">Railslide</a></h1>
                            <p class="tagline">Code, experiments, and thoughts</p>
                                <p class="links"><a href="/about.html">About</a></p>
                                <p class="links"><a href="/categories.html">Categories</a></p>
                                <p class="social">
                                    <a href="https://github.com/Railslide/">
                                        <i class="fa fa-github fa-3x"></i>
                                    </a>
                                    <a href="feeds/all.atom.xml">
                                        <i class="fa fa-rss fa-3x"></i>
                                    </a>
                                </p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>TIL: =+ doesn't throw an error</h1>
                        <p class="post-meta">
                        category: <a href="https://railslide.io/category/til.html">til</a>, date: 2024-12-04
                        </p>
                        <p class="post-meta">
                            tags =                                 <a class="post-category" href="https://railslide.io/tag/til.html">TIL</a>
                                <a class="post-category" href="https://railslide.io/tag/python.html">python</a>
                </header>
            </section>
            <p>A while ago I decided to switch to the Ansi (aka US) layout for my keyboard. The process was fairly painless: I adapted to the new movements fairly quickly and typing symbols has become way simpler. One of the things I still struggle though is <code>=+</code>, as in all the layouts I have used in the past the key combination was the opposite if the US one, i.e. <code>=</code> would require me to press shift and <code>+</code> wouldn't. So it's not uncommon for me to hit <code>+</code> instead of <code>=</code> and vice versa, which led me to stumble on an interesting bug.</p>
<p>In python you can increment a variable by using the shorthand <code>+=</code>, i.e.</p>
<div class="highlight"><pre><span></span><code><span class="n">foo</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">foo</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>  <span class="c1"># foo is now 6</span>
</code></pre></div>

<p>Now, due to my layout switch, <code>+=</code> has a high chance of mistyping for me. However, I had always assumed that either the interpreter or my editor would have screamed at me if I were to type it in reverse. That turned out not to be the case.</p>
<div class="highlight"><pre><span></span><code><span class="n">foo</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">foo</span> <span class="o">=+</span> <span class="mi">1</span>  <span class="c1"># note the typo</span>
<span class="c1"># I was expecting an error here, but nope.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>  <span class="c1"># foo is now 1</span>
</code></pre></div>

<p>Basically, python considers <code>foo =+ 1</code> the same as <code>foo = +1</code>. And that explains why there was no error and why the output of my script was completely wrong. The dark side of it is that the typo is not the easiest one to spot, which might lead to quite some confusion and debugging time (as it happened to me today).</p>
<p>Oh well, today I learned. And from now on I'll know what to double check for.</p>
            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Railslide <a href="http://creativecommons.org/licenses/by-sa/4.0/">(CC BY-SA 4.0)</a> &ndash;
        Built with <a href="http://blog.getpelican.com/">Pelican</a>
        and a modified version of <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>

</body>
</html>