<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Railslide, Code, experiments, and thoughts">

        <link rel="alternate"  href="http://railslide.io/feeds/all.atom.xml" type="application/atom+xml" title="Railslide Full Atom Feed"/>

        <title>Setting up a dotfiles repo and easily port configurations around // Railslide // Code, experiments, and thoughts</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://railslide.io/theme/css/pure.css">
    <link rel="stylesheet" href="http://railslide.io/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
<div class="pure-g-r" id="layout">
<div class="sidebar pure-u">
    <div class="cover-img">
        <div class="cover-body">
            <header class="header">
                <hgroup>
                    <h1 class="brand-main"><a href="/">Railslide</a></h1>
                    <p class="tagline">Code, experiments, and thoughts</p>
                    <p class="social">
                        <a href="https://github.com/Railslide/">
                            <i class="fa fa-github-square fa-3x"></i>
                        </a>
                        <a href="https://plus.google.com/+GiuliaVergottini">
                            <i class="fa fa-google-plus-square fa-3x"></i>
                        </a>
                        <a href="feeds/all.atom.xml">
                            <i class="fa fa-rss-square fa-3x"></i>
                        </a>
                    <p>
                </hgroup>
            </header>
        </div>
    </div>
</div>    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Setting up a dotfiles repo and easily port configurations around</h1>
                        <p class="post-meta">
                            // under                                 <a class="post-category" href="http://railslide.io/tag/dotfiles.html">dotfiles</a>
                                <a class="post-category" href="http://railslide.io/tag/utilities.html">utilities</a>
                                <a class="post-category" href="http://railslide.io/tag/git.html">git</a>
                        </p>
                </header>
            </section>
            <p>After having spent quite some time in finding the right set up for my developing environment, it came natural to look for a way for porting my configuration. Enter a dotfiles repo, aka having all my configurations only one <code>git clone</code> away and making my life so much easier.</p>
<p>Michael Smalley wrote an <a href="http://blog.smalleycreative.com/tutorials/using-git-and-github-to-manage-your-dotfiles/">amazing tutorial</a> for managing dotfiles and creating a script for automagically installing them (go and check it out!), which provided me with a great starting point. However, his script handles only dotfiles housed in the home directory and that didn't really get together with my goal of adding Sublime Text settings to my dotfiles repo. So I fired up Nano and extended the script in order to make it do exactly what I needed.</p>
<p>First of all, I needed to to move Sublime configuration files to my dotfiles folder. Thankfully <a href="http://zanshin.net/2013/01/21/sublime-text-2-dotfiles-simplified/">Mark Nichols' post</a> tipped me that I the only folder I needed to care about was the User one. So, after cleaning it up from some experiments leftovers, I moved to my dotfiles folder and placed a symlink in its previous location.</p>
<p>Then I added a variable holding the path to the User directory:</p>
<div class="highlight"><pre><span class="nv">sublimedir</span><span class="o">=</span>~/.config/sublime-text-3/Packages/User
</pre></div>


<p>and at the end of the file the lines taking care of the magic:</p>
<div class="highlight"><pre><span class="c"># move any existing dotfiles in homedir to dotfiles_old directory, then create symlinks</span>
<span class="k">for </span>file in <span class="nv">$files</span>; <span class="k">do</span>
<span class="k">    if</span> <span class="o">[</span> -a ~/.<span class="nv">$file</span> <span class="o">]</span>; <span class="k">then</span>    <span class="c"># check if a dotfile already exists</span>
        <span class="nb">echo</span> <span class="s2">&quot;Moving any existing dotfiles from ~ to $olddir&quot;</span>
        mv ~/.<span class="nv">$file</span> <span class="nv">$olddir</span>
    <span class="k">fi</span>
<span class="k">    </span><span class="nb">echo</span> <span class="s2">&quot;Creating symlink to $file in home directory.&quot;</span>
    ln -s <span class="nv">$dir</span>/<span class="nv">$file</span> ~/.<span class="nv">$file</span>
<span class="k">done</span>

<span class="nb">echo</span> <span class="s2">&quot;...done&quot;</span>

<span class="c"># move Sublime Text Users directory to dotfiles_old directory, then create symlink</span>
<span class="k">if</span> <span class="o">[</span> -d <span class="nv">$sublimedir</span> <span class="o">]</span>; <span class="k">then</span> <span class="c"># check whether the directory already exists</span>
    <span class="nb">echo</span> <span class="s2">&quot;Moving the existing Sublime Text Users directory from $sublimedir to $olddir&quot;</span>
    mv <span class="nv">$sublimedir</span> <span class="nv">$olddir</span>
    <span class="nb">echo</span> <span class="s2">&quot;...done&quot;</span>
<span class="k">fi</span>
<span class="nb">echo</span> <span class="s2">&quot;Creating symlink to Users in $sublimedir&quot;</span>
ln -s <span class="nv">$dir</span>/sublime/User <span class="nv">$sublimedir</span>
<span class="nb">echo</span> <span class="s2">&quot;...done&quot;</span>
</pre></div>


<p>The full script can be found on <a href="https://github.com/Railslide/dotfiles/blob/master/installdotfiles.sh">github</a>.</p>
<p>Finally, since Package Control updates regularly some of the files in the User folder, I added them to a <code>.gitignore</code> file in order to avoid to much noise in my version control. A list of those files can be found in the <a href="https://sublime.wbond.net/docs/syncing">docs</a> of Package Control.</p>
            <div class="hr"></div>
            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Railslide <a href="http://creativecommons.org/licenses/by-sa/4.0/">(CC BY-SA 4.0)</a> &ndash;
        Built with <a href="http://blog.getpelican.com/">Pelican</a>
        and a modified version of <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
</body>
</html>